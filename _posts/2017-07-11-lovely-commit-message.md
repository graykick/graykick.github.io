---
layout: post
cover: 'assets/images/commit-cover.jpg'
title: 사랑스러운 커밋 메시지 작성하기
tags: development git
subclass: 'post tag-test tag-content'
categories: 'casper'
navigation: True
logo: 'assets/images/ghost.png'
---
<br>
세상에는 사랑스러운 커밋 메시지가 있다. 커밋 메시지만으로, 어떤 변경사항이 있었는지 쉽게 파악할 수 있는 것이 바로 그것이다.

![bad-commit]({{ site.url }}/assets/images/bad-commit.PNG)
<p class="caption">
    오래전 작성한 완벽히 잘못된 커밋이다.
</p>

최근, 많은 IT회사들에서 개발자를 채용할 때, 지원자의 [github](http://github.com)계정을 본다. 
채용하는 측에서 지원자의 [github](http://github.com)계정에서 지원자의 실력이나 지원자의 관심분야를 알 수 있는데, 개인적으로는 지원자의 협업 능력까지 알 수 있다고 생각한다. 바로 커밋 메시지로.

~~이런 면에서 보면 아마 나는 탈락이었을 거다.~~ 
최근에서야 좋은 커밋 메시지에 관심을 가지게 되었다. 보통 github에 있는 다른 사람의 프로젝트를 분석할 때, 커밋 히스토리를 쭉 따라가는 편이라 좋은 커밋 메시지를 보면 정말 사랑스럽다는 생각이 든다.

커밋 메시지만으로 개발자의 협업능력을 판달할 수는 없지만, 커밋 메시지와 협업능력이 무관하지는 않다.
자신의 커밋을 다른 개발자가 쉽게 이해할 수 있도록 하는것은 다른 개발자에게 협력하는 좋은 방법이다.
~~미래의 자신도 고마워한다.~~

읽기 좋은 코드가 유지보수에 도움이 되듯이 읽기 좋은 커밋 메시지 역시 유지보수에 많은 도움이 된다. 
``` git diff ``` 등의 명령을 사용해서 코드의 변경사항을 파악할 수는 있지만, 커밋 메시지가 잘 쓰여져 있다면  변경사항을 파악하기가 훨씬 쉬워진다. 
또한 ``` git diff ``` 로 나타나는 코드의 변경만으로는 이것이 어떤 문제를 해결하는지, 왜 변경이 발생했는지를 알 수 없다. 
따라서 커밋 메시지는 이러한 내용들을 잘 반영하는 것이 중요하다. 

커밋 메시지에도 잘 알려진 컨벤션들이 있다.
[Pro Git에서 커밋가이드라인으로 Tim Pope의 커밋 컨벤션을 제시했다.](https://git-scm.com/book/ko/v2/%EB%B6%84%EC%82%B0-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-Git-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-%EA%B8%B0%EC%97%AC%ED%95%98%EA%B8%B0) 따라서, 아래에서는 [Tim Pope의 컨벤션](http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html)을 간단히 소개한다.

#### Tim pope의 커밋 컨벤션 예
    영문 50글자 이하의 간략한 수정 요약

    자세한 설명. 영문 72글자 이상이 되면
    라인 바꿈을 하고 이어지는 내용을 작성한다.
    특정 상황에서는 첫 번째 라인이 이메일
    메시지의 제목이 되고 나머지는 메일
    내용이 된다. 빈 라인은 본문과 요약을
    구별해주기에 중요하다(본문 전체를 생략하지 않는 한).

    이어지는 내용도 한 라인 띄우고 쓴다.

    - 목록 표시도 사용할 수 있다.

    - 보통 '-' 나 '*' 표시를 사용해서 목록을 표현하고
        표시 앞에 공백 하나, 각 목록 사이에는 빈 라인
        하나를 넣는데, 이건 상황에 따라 다르다. 

위의 예는 Tim pope가 커밋 컨벤션을 자신의 컨벤션에 맞추어 설명한 글이다. 이를 알기쉽게 표현하자면 이렇다.
각각에 대해서는 천천히 자세히 살펴보자.

- [제목은 50자 이내로 간략하게 수정 요약](#d1)
- [2번째 줄은 공백](#d2)
- [3번째 줄부터, 변경사항에 대한 자세한 설명](#d3)
- [설명은 72글자 단위로 개행](#d4)
- [본문의 경우 ``` - ```나 ``` * ```를 사용한 개조식 서술도 가능](#d5)

<br>
### 제목을 50자로 제한 하는 이유 <a name="d1" />
제목을 50자로 제한하는 이유는 제목은 **변경사항의 간단한 요약**을 보다 적극적으로 강제하는 방법으로 보인다.
실제로 github에서 커밋 메시지를 작성할때, 제목의 글자가 50자 이상이면 경고메시지가 등장한다.
![Github warn image]({{ site.url }}/assets/images/github-warn.PNG)
<p class="caption">
    github에서 위와같은 경고메시지가 출력 된다.
</p>

Tim pope의 규칙에는 나와있지 않지만, 가독성을 위한 추가적인 규칙이 있다.
- 제목의 첫 글자는 대문자로 작성한다
- 제목의 끝에는 구둣점을 찍지 않는다
- 명령형으로 작성한다(Merge ..., Change ..., Resolve ...)



<br>
### 2번째 줄을 공백으로 두는 이유 <a name="d2" />
결론부터 말하자면, 커밋 메시지의 제목을 인식시키기 위해서 이다. 많은 경우, 커밋 메시지를 작성할 때, 제목과 본문을 분리하여 작성한다. 제목을 먼저 쓰고 다음 줄은 공백으로 둔 뒤, 3번째 줄부터 본문을 쓰기 시작한다. 커밋 메시지에서 2번째 줄이 공백이면, 1번째 줄을 커밋의 제목으로 인식하게 된다. 

제목과 본문을 분리하여 작성하면, 커밋의 히스토리를 파악할 때 큰 도움을 준다.
Github나 [Github Desktop](https://desktop.github.com/)에서도 커밋 메시지를 작성할 때, 제목과 본문을 구분하여 작성하게 한다. 커밋을 보여줄때도 마찬가지이다. 


``` git commit -m ```커맨드는 제목과 본문을 구분하기가 귀찮기 때문에 다른 도구나 에디터를 사용하기를 권장한다.

``` git commit -m ```이 좋은 사람들을 위해 준비했다.

    git commit -m "title" -m "content"

위처럼 ``` -m ```을 두번 사용하는 방법과

    git commit -m "title

    content" 

>  ``` " ```의 위치에 주의하길 바란다.

위처럼 개행을 하여 작성하는 방법이 있는데, 두번째 방법의 경우 사용하는 터미널에따라 개행하는 방법이 달라진다.... 
여기서는 [powerShell](https://msdn.microsoft.com/en-us/powershell/mt173057.aspx)을 사용했는데 단순히 ``` enter ```를 눌러 개행할 수 있다. (~~window cmd에서는 개행을 포기했다~~)

<br>
### 변경사항에 대한 자세한 설명 <a name="d3" />
이 부분이 가장 중요한 부분중 하나라고 생각한다. 
해당 커밋을 쉽게 이해할 수 있도록 커밋에 대한 자세한 설명을 작성해야하는데, 이는 ``` git diff ```만으로는 알수 없는 내용, 즉 코드만으로는 알 수 없는 내용을 포함시켜야 한다. 
왜 이것을 추가했는지(수정, 삭제), 전후의 차이는 무엇인지 등 개발자가 이 커밋을 이해하는데 도움을 줄 수 있는 내용들을 적어야한다. 다른 개발자의 시간을 절약해 준다.

<br>
### 본문을 72글자 단위로 개행하는 이유 <a name="d4" />
순전히 가독성을 위한 규칙이다. 
커밋 메시지는 자동으로 개행되지 않기때문에, 72자는 경험적인 수치인것 같다. 
72자에 얽메일 필요없이 읽기 적당할 만큼으로 개행하면 된다.

<br>
### 본문의 경우 ``` - ```나 ``` * ```를 사용한 개조식 서술도 가능 <a name="d5" />
본문을 개조식으로 서술가능하다. 여기서 유의할 점은 개조식으로 서술하되 1가지의 변경에 대해서 서술해야 한다.
커밋의 단위에 대한 이야기인데, 개조식으로 이것도 변경되고 저것도 변경되었다. 라고 쓴다면, 커밋을 분리해야할 가능성이 크다.


<br>
### 결론
Git을 사용한다는 것은 대개 2명이상의 개발자가 개발을 한다는 의미이다. 따라서 커밋 메시지를 잘 작성하여 팀원의 짐을 덜어주도록 하자. 위에서 설명한것은 Tim pope의 컨벤션이고 자신의 팀만의 컨벤션이 있다면, 그것을 따르는 것이 더 좋다. 이런 컨벤션을 추천하는 이유도 결국 변경사항을 빠르고 쉽게 파악하기 위해서인데, 팀의 컨벤션이 익숙하다면 그 편이 더 빠를 것이다. 컨벤션 보다 더 중요한 것은 커밋 메시지는 다른 사람이 커밋을 쉽게 이해하도록 작성하는 것 임을 잊지않고 그렇게 작성하는 것이다.



<br>
### 참고
[How to Write a Git Message](https://chris.beams.io/posts/git-commit/) [한글 번역문](https://item4.github.io/2016-11-01/How-to-Write-a-Git-Commit-Message/#why-not-how)

[On commit messages](http://who-t.blogspot.kr/2009/12/on-commit-messages.html) [한글 번역문](http://www.haruair.com/blog/2683)

[git scm](https://git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project) [한글 번역문](https://git-scm.com/book/ko/v2/%EB%B6%84%EC%82%B0-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-Git-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-%EA%B8%B0%EC%97%AC%ED%95%98%EA%B8%B0)



